import{Q as x}from"./QIcon.c0472bea.js";import{Q as T}from"./QPage.496e8664.js";import{E as j,F as I,Q as P,r as a,o as Q,w as R,d as U,t as p,u as E,v as F,H as t,L as M,x as f,R as h,G as v,I as g,J as w}from"./index.d50dfcb0.js";import{u as S}from"./edit-movie.15bfb911.js";import"./render.fb9d86c6.js";const V={class:"flex justify-between items-center"},A={class:"flex items-center"},L={class:"font-montserrat text-white md:text-[48px] md:font-semibold font-bold"},N={class:"xl:grid xl:grid-cols-12 mt-10"},G={class:"col-span-6"},H={key:0,class:"flex justify-center items-center"},J=["src"],q={key:1,class:"text-center"},z={class:"col-span-6 mt-10 xl:mt-0 flex justify-center md:block"},K={class:"mb-5"},ee=j({__name:"AddAndEditMovie",setup(O){const i=I(),b=P(),d=S(),c=a(null),l=a(null),n=a(""),r=a(),u=a(""),y=()=>{c.value&&c.value.click()},_=s=>{const o=s.target.files;o&&o.length>0&&m(o[0])},D=s=>{var o;const e=(o=s.dataTransfer)==null?void 0:o.files;e&&e.length>0&&m(e[0])},m=s=>{const e=new FileReader;e.onload=()=>{l.value=e.result},e.readAsDataURL(s)},k=()=>{console.log(n.value,r.value,l.value),i.push("/movie-list")},C=()=>{i.push("/movie-list")},B=()=>{i.push("/")};return Q(()=>{d.loadDetailData(),R(()=>d.detailData,s=>{if(b.params.id&&s){const e=s;n.value=e.title,u.value=e.title,r.value=e.year,l.value=e.image}},{immediate:!0})}),U(()=>{d.clearDetailData()}),(s,e)=>(p(),E(T,{class:"px-[100px] pt-[80px] h-screen"},{default:F(()=>[t("div",V,[t("div",A,[t("p",L,M(u.value||"Create a new movie"),1)]),t("div",{class:"flex items-center cursor-pointer mt-2 md:mt-0",onClick:B},[e[3]||(e[3]=t("p",{class:"font-bold font-montserrat md:text-[16px] text-white"}," Logout ",-1)),f(x,{name:"logout",class:"text-white md:text-[32px] ml-2 cursor-pointer"})])]),t("div",N,[t("div",G,[t("div",{class:"border-2 border-dashed border-gray-300 rounded-lg flex justify-center items-center cursor-pointer md:w-[473px] h-[504px]",onDragover:e[0]||(e[0]=h(()=>{},["prevent"])),onDrop:h(D,["prevent"]),onClick:y},[l.value?(p(),v("div",H,[t("img",{src:l.value,alt:"Preview",class:"max-w-full max-h-full object-cover"},null,8,J)])):(p(),v("div",q,[f(x,{name:"file_download",class:"text-white text-[16px] cursor-pointer"}),e[4]||(e[4]=t("p",{class:"text-white text-sm font-normal font-montserrat"}," Drop an image here ",-1))])),t("input",{ref_key:"fileInput",ref:c,type:"file",accept:"image/*",class:"hidden",onChange:_},null,544)],32)]),t("div",z,[t("div",K,[g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),class:"bg-[#224957] rounded-[10px] md:w-[362px] py-2 px-4 h-[45px] text-white placeholder:text-white placeholder:font-montserrat",type:"text",placeholder:"Title"},null,512),[[w,n.value]])]),t("div",null,[g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.value=o),class:"bg-[#224957] rounded-[10px] md:w-[216px] py-2 px-4 h-[45px] text-white placeholder:text-white placeholder:font-montserrat",type:"number",placeholder:"Publishing year"},null,512),[[w,r.value]])]),t("div",{class:"flex gap-2 mt-5"},[t("button",{class:"shadow bg-transparent border-2 text-white font-bold py-2 px-4 md:w-[179px] md:h-[54px] rounded-[10px] hover:bg-green-600 font-montserrat",type:"button",onClick:C}," Cancel "),t("button",{class:"shadow bg-[#2BD17E] text-white font-bold py-2 px-4 md:w-[179px] md:h-[54px] rounded-[10px] hover:bg-green-600 font-montserrat",type:"button",onClick:k}," Submit ")])])])]),_:1}))}});export{ee as default};
